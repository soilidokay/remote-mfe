{"version":3,"file":"LoadingCompoenent.js","sources":["../src/LoadingCompoenent.tsx"],"sourcesContent":["import React, { FC, Suspense } from 'react'\nimport { loadRemote } from '@module-federation/runtime';\nexport * from '@module-federation/runtime';\ninterface IRemoteComponentBase {\n  loadingFallback?: React.ReactNode\n}\ninterface IRemoteComponentP extends IRemoteComponentBase {\n  loading: Promise<any>\n}\ninterface IPathModule {\n  scope: string,\n  module: string\n}\ninterface IRemoteComponentR extends IRemoteComponentBase {\n  modulePath: IPathModule | string\n}\n\nexport function CreateRemoteComponent(optiops: IRemoteComponentP | IRemoteComponentR) {\n  const ComponentLazy = React.lazy(() => {\n    let container: any\n    let pathFull = ''\n    if ('loading' in optiops) {\n      pathFull = typeof optiops.loading\n      container = optiops.loading\n    } else {\n      pathFull = typeof optiops.modulePath === 'object' ? `${optiops.modulePath.scope}/${optiops.modulePath.module}` : optiops.modulePath\n      container = loadRemote<any>(pathFull)\n    }\n    try {\n      return container.then((module: any) => {\n        return module.Adapter ? { default: module.Adapter } : module\n      })\n    } catch (error) {\n      console.error(`Error loading remote module ${pathFull}:`, error);\n      return Promise.resolve(<></>)\n\n    }\n  })\n  const LoadingMFE: FC<any> = (props) => {\n    return (\n      <Suspense fallback={optiops.loadingFallback ?? 'loading...'}>\n        <ComponentLazy {...props} />\n      </Suspense>\n    )\n  }\n  return LoadingMFE\n}\n"],"names":[],"mappings":";;;AAiBA,OA6BC,CAAA,qBAAA,GAAA,qBAAA;;AA9CD,MAA2C,OAAA,GAAA,OAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;AAC3C,MAAwD,SAAA,GAAA,OAAA,CAAA,4BAAA,CAAA;AACxD,OAA2C,CAAA,YAAA,CAAA,OAAA,CAAA,4BAAA,CAAA,EAAA,OAAA,CAAA;AAe3C,SAAgB,qBAAqB,CAAC,OAA8C,EAAA;AAClF,IAAA,MAAM,aAAa,GAAG,OAAA,CAAA,OAAK,CAAC,IAAI,CAAC,MAAK;AACpC,QAAA,IAAI,SAAc;QAClB,IAAI,QAAQ,GAAG,EAAE;AACjB,QAAA,IAAI,SAAS,IAAI,OAAO,EAAE;AACxB,YAAA,QAAQ,GAAG,OAAO,OAAO,CAAC,OAAO;AACjC,YAAA,SAAS,GAAG,OAAO,CAAC,OAAO;;aACtB;AACL,YAAA,QAAQ,GAAG,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,GAAG,CAAG,EAAA,OAAO,CAAC,UAAU,CAAC,KAAK,CAAI,CAAA,EAAA,OAAO,CAAC,UAAU,CAAC,MAAM,CAAE,CAAA,GAAG,OAAO,CAAC,UAAU;AACnI,YAAA,SAAS,GAAG,IAAA,SAAA,CAAA,UAAU,EAAM,QAAQ,CAAC;;AAEvC,QAAA,IAAI;AACF,YAAA,OAAO,SAAS,CAAC,IAAI,CAAC,CAAC,MAAW,KAAI;AACpC,gBAAA,OAAO,MAAM,CAAC,OAAO,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,OAAO,EAAE,GAAG,MAAM;AAC9D,aAAC,CAAC;;QACF,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,KAAK,CAAC,CAAA,4BAAA,EAA+B,QAAQ,CAAG,CAAA,CAAA,EAAE,KAAK,CAAC;AAChE,YAAA,OAAO,OAAO,CAAC,OAAO,CAAC,OAAA,CAAA,OAAA,CAAA,aAAA,CAAA,OAAA,CAAA,OAAA,CAAA,QAAA,EAAA,IAAA,CAAK,CAAC;;AAGjC,KAAC,CAAC;AACF,IAAA,MAAM,UAAU,GAAY,CAAC,KAAK,KAAI;;QACpC,QACE,OAAC,CAAA,OAAA,CAAA,aAAA,CAAA,OAAA,CAAA,QAAQ,EAAC,EAAA,QAAQ,EAAE,CAAA,EAAA,GAAA,OAAO,CAAC,eAAe,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,YAAY,EAAA;AACzD,YAAA,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,aAAa,EAAK,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAK,CAAI,CAAA,CACnB;AAEf,KAAC;AACD,IAAA,OAAO,UAAU;AACnB;;"}